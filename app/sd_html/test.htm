<!DOCTYPE html>
<html>
<head>

    <link rel="stylesheet" href="style.css">
</head>
<body>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />

<title>Upgrade firmware</title>
<link rel="stylesheet" type="text/css" href="style.css">
<input type="file" multiple="multiple" name="upload" id="id_upload" />
<input type="submit" value="Upload" onclick="doUpload()" />

<script>

function doUpload()
{
    var elem = document.getElementById("id_upload");
    
    for (var i = 0; i < elem.files.length; ++ i) 
    {
        var xhr = new XMLHttpRequest();
        xhr.open("POST", "/upload");
        xhr.setRequestHeader('X-FileName', elem.files[i].name); // Pass the filename along
        xhr.send(elem.files[i]);
    }
}
</script>